{"remainingRequest":"/home/oscar/projets-CDA/chillgames-vue/node_modules/babel-loader/lib/index.js!/home/oscar/projets-CDA/chillgames-vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/oscar/projets-CDA/chillgames-vue/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/oscar/projets-CDA/chillgames-vue/src/views/Register.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/oscar/projets-CDA/chillgames-vue/src/views/Register.vue","mtime":1652172706106},{"path":"/home/oscar/projets-CDA/chillgames-vue/babel.config.js","mtime":1650030303150},{"path":"/home/oscar/projets-CDA/chillgames-vue/node_modules/cache-loader/dist/cjs.js","mtime":1650030295349},{"path":"/home/oscar/projets-CDA/chillgames-vue/node_modules/babel-loader/lib/index.js","mtime":1650030295749},{"path":"/home/oscar/projets-CDA/chillgames-vue/node_modules/cache-loader/dist/cjs.js","mtime":1650030295349},{"path":"/home/oscar/projets-CDA/chillgames-vue/node_modules/vue-loader-v16/dist/index.js","mtime":1650030295741}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0IHsgY3JlYXRlVG9hc3QgfSBmcm9tICJtb3NoYS12dWUtdG9hc3RpZnkiOwppbXBvcnQgRm9vdGVyIGZyb20gIi4uL2NvbXBvbmVudHMvRm9vdGVyLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUmVnaXN0ZXInLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyTmFtZTogbnVsbCwKICAgICAgbWFpbDogbnVsbCwKICAgICAgcGFzc3dvcmQ6IG51bGwKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBGb290ZXI6IEZvb3RlcgogIH0sCiAgbWV0aG9kczogewogICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2codGhpcy51c2VyTmFtZSwgdGhpcy5tYWlsLCB0aGlzLnBhc3N3b3JkKTsKCiAgICAgIGlmICh0aGlzLnVzZXJOYW1lICYmIHRoaXMubWFpbCAmJiB0aGlzLnBhc3N3b3JkKSB7CiAgICAgICAgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMnLCB7CiAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbic6ICcqJwogICAgICAgICAgfSwKICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlck5hbWUsCiAgICAgICAgICAgIG1haWw6IHRoaXMubWFpbCwKICAgICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQKICAgICAgICAgIH0pCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocikgewogICAgICAgICAgY29uc29sZS5sb2cocik7CgogICAgICAgICAgaWYgKHIuc3RhdHVzICYmIHIuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgX3RoaXMudG9hc3Qoci5tZXNzYWdlLCAnc3VjY2VzcycpOwoKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInRva2VuIiwgci50b2tlbik7CgogICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLnRvYXN0KHIubWVzc2FnZSwgJ2RhbmdlcicpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CgogICAgICAgICAgX3RoaXMudG9hc3QoIlNvbWV0aGluZyB3ZW50IHdyb25nIiwgJ2RhbmdlcicpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudG9hc3QoIlBsZWFzZSBmaWxsIGFsbCB0aGUgZmllbGRzLiIsICJkYW5nZXIiKTsKICAgICAgfQogICAgfQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIHRvYXN0ID0gZnVuY3Rpb24gdG9hc3QobWVzc2FnZSwgdHlwZSkgewogICAgICBjcmVhdGVUb2FzdChtZXNzYWdlLCB7CiAgICAgICAgcG9zaXRpb246ICJ0b3AtbGVmdCIsCiAgICAgICAgdGltZW91dDogNTAwMCwKICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgIHNob3dJY29uOiB0cnVlCiAgICAgIH0pOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICB0b2FzdDogdG9hc3QKICAgIH07CiAgfQp9Ow=="},{"version":3,"mappings":";;AAoBA,SAASA,WAAT,QAA4B,oBAA5B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,eAAe;AACXC,MAAI,EAAE,UADK;AAEXC,MAFW,kBAEJ;AACH,WAAO;AACHC,cAAQ,EAAE,IADP;AAEHC,UAAI,EAAE,IAFH;AAGHC,cAAQ,EAAE;AAHP,KAAP;AAKH,GARU;AASXC,YAAU,EAAE;AACRN,UAAK,EAALA;AADQ,GATD;AAYXO,SAAO,EAAE;AACLC,YADK,sBACM;AAAA;;AACPC,aAAO,CAACC,GAAR,CAAY,KAAKP,QAAjB,EAA2B,KAAKC,IAAhC,EAAsC,KAAKC,QAA3C;;AACA,UAAI,KAAKF,QAAL,IAAiB,KAAKC,IAAtB,IAA8B,KAAKC,QAAvC,EAAiD;AAC7CM,aAAK,CAAC,iCAAD,EAAoC;AACrCC,gBAAM,EAAE,MAD6B;AAErCC,iBAAO,EAAE;AACL,4BAAgB,kBADX;AAEL,2CAA+B;AAF1B,WAF4B;AAMrCC,cAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,oBAAQ,EAAE,KAAKd,QADE;AAEjBC,gBAAI,EAAE,KAAKA,IAFM;AAGjBC,oBAAQ,EAAE,KAAKA;AAHE,WAAf;AAN+B,SAApC,CAAL,CAYCa,IAZD,CAYM,kBAAO;AAAA,iBAAKC,QAAQ,CAACC,IAAT,EAAL;AAAA,SAZb,EAaCF,IAbD,CAaM,aAAK;AACPT,iBAAO,CAACC,GAAR,CAAYW,CAAZ;;AACA,cAAIA,CAAC,CAACC,MAAF,IAAYD,CAAC,CAACC,MAAF,KAAa,GAA7B,EAAkC;AAC9B,iBAAI,CAACC,KAAL,CAAWF,CAAC,CAACG,OAAb,EAAsB,SAAtB;;AACAC,wBAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BL,CAAC,CAACM,KAAhC;;AACA,iBAAI,CAACC,OAAL,CAAaC,IAAb;AACJ,WAJA,MAIO;AACH,iBAAI,CAACN,KAAL,CAAWF,CAAC,CAACG,OAAb,EAAsB,QAAtB;AACJ;AACH,SAtBD,EAuBCM,KAvBD,CAuBO,aAAE,EAAK;AACVrB,iBAAO,CAACC,GAAR,CAAYqB,GAAZ;;AACA,eAAI,CAACR,KAAL,CAAW,sBAAX,EAAmC,QAAnC;AACH,SA1BD;AA2BH,OA5BD,MA4BM;AACF,aAAKA,KAAL,CAAW,6BAAX,EAA0C,QAA1C;AACJ;AACJ;AAlCK,GAZE;AAgDXS,OAhDW,mBAgDH;AACR,QAAMT,KAAI,GAAI,SAARA,KAAQ,CAACC,OAAD,EAAUS,IAAV,EAAmB;AAC/BlC,iBAAW,CAACyB,OAAD,EAAU;AACnBU,gBAAQ,EAAE,UADS;AAEnBC,eAAO,EAAE,IAFU;AAGnBF,YAAI,EAAEA,IAHa;AAInBG,gBAAQ,EAAE;AAJS,OAAV,CAAX;AAMD,KAPD;;AAQA,WAAO;AAAEb,WAAI,EAAJA;AAAF,KAAP;AACD;AA1DY,CAAf","names":["createToast","Footer","name","data","userName","mail","password","components","methods","register","console","log","fetch","method","headers","body","JSON","stringify","username","then","response","json","r","status","toast","message","localStorage","setItem","token","$router","push","catch","err","setup","type","position","timeout","showIcon"],"sourceRoot":"","sources":["/home/oscar/projets-CDA/chillgames-vue/src/views/Register.vue"],"sourcesContent":["<template>\n    <div id=\"register\">\n        <div id=\"form\">\n            <p class=\"goHome\" @click=\"this.$router.push('/')\">Go back Home</p>\n            <h1>Register</h1>\n            <form @submit.prevent=\"register\">\n                <label for=\"userName\">Username</label>\n                <input type=\"text\" id=\"userName\" placeholder=\"Ex: StrongBald\" v-model=\"userName\">\n                <label for=\"email\">Email</label>\n                <input type=\"email\" id=\"email\" placeholder=\"Ex: titon@gmail.com\" v-model=\"mail\">\n                <label for=\"password\">Password</label>\n                <input type=\"password\" id=\"password\" minlength=\"8\" maxlength=\"15\" placeholder=\"8 to 15 characteres\" v-model=\"password\">\n                <button>Cr√©er</button>\n            </form>\n            <p>Already have an account ? <a @click=\"this.$router.push('/login')\"> Login</a></p>\n        </div>\n    </div>\n    <Footer></Footer>\n</template>\n<script>\nimport { createToast } from \"mosha-vue-toastify\";\nimport Footer from \"../components/Footer.vue\"\nexport default {\n    name: 'Register',\n    data() {\n        return {\n            userName: null,\n            mail: null,\n            password: null,\n        }\n    },\n    components: {\n        Footer\n    },\n    methods: {\n        register() {\n            console.log(this.userName, this.mail, this.password);\n            if (this.userName && this.mail && this.password) {\n                fetch('http://localhost:3000/api/users', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Access-Control-Allow-Origin': '*'\n                    },\n                    body: JSON.stringify({\n                        username: this.userName,\n                        mail: this.mail,\n                        password: this.password\n                    })\n                })\n                .then(response => response.json())\n                .then(r => {\n                    console.log(r);\n                    if (r.status && r.status === 200) {\n                        this.toast(r.message, 'success');\n                        localStorage.setItem(\"token\", r.token);\n                        this.$router.push(`/`);\n                    } else {\n                        this.toast(r.message, 'danger');\n                    }\n                })\n                .catch(err => {\n                    console.log(err);\n                    this.toast(\"Something went wrong\", 'danger');\n                });\n            }else {\n                this.toast(\"Please fill all the fields.\", \"danger\");\n            }\n        }\n    },\n    setup() {\n    const toast = (message, type) => {\n      createToast(message, {\n        position: \"top-left\",\n        timeout: 5000,\n        type: type,\n        showIcon: true,\n      });\n    };\n    return { toast };\n  },\n}\n</script>\n<style scoped>\n#register {\n    height: 100vh;\n    background-image: url(\"../assets/img/bg-register.jpg\");\n    background-size: cover;\n    background-position: right;\n}\n#register #form\n{\n    height: 100%;\n    width: 30%;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    background: #ffffff;\n}\n#register #form > form\n{\n    margin-top: 5rem;\n    width: 70%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n}\n#register #form h1\n{\n    margin-top: 5rem;\n    font-size: 2.5rem;\n    color: #000000;\n    text-shadow: none;\n    text-align: center;\n}\n#register #form > form > label\n{\n    font-size: 1.5em;\n    font-weight: bold;\n    color: #000000;\n    text-shadow: none;\n    margin-top: 1rem;\n}\n#register #form > form > input\n{\n    width: 100%;\n    height: 3rem;\n    border: none;\n    border-bottom: 2px solid #000000;\n    margin-bottom: 2rem;\n    font-size: 1.5rem;\n}\n#register #form > form > input:focus\n{\n    outline: none;\n}\n#register #form > form > button\n{\n    width: 100%;\n    height: 4rem;\n    border: none;\n    border-radius: 5px;\n    background: #000000;\n    color: #ffffff;\n    font-size: 1.5rem;\n    font-weight: bold;\n    cursor: pointer;\n    transition: 0.3s;\n}\n#register #form > form > button:hover\n{\n    transform: scale(1.1);\n}\n#form > p\n{\n    font-size: 1.2rem;\n    color: #000000;\n    text-shadow: none;\n    margin-top: 1rem;\n}\n#form > p > a\n{\n    color: #461e61;\n    text-decoration: underline;\n    cursor: pointer;\n}\n\n.goHome\n{\n    cursor: pointer;\n    color: #758edf !important;\n    align-self: flex-start;\n    margin-top: 1rem;\n    margin-left: 1rem;\n    font-weight: bold;\n}\n\n@media only screen and (max-width : 420px) and (orientation: portrait) {\n    #register #form\n    {\n        width: 100%;\n    }\n    #register #form > form\n    {\n        margin-top: 1rem;\n    }\n    #register #form h1\n    {\n        margin-top: 4rem;\n    }\n}\n@media only screen and (max-width : 900px) and (orientation: landscape) {\n    #register #form\n    {\n        width: 70%;\n    }\n    #register #form > form\n    {\n        margin-top: 1rem;\n    }\n    #register #form h1\n    {\n        margin-top: 4rem;\n    }\n    #register {\n    background-size: 100% auto;\n    height: auto;\n    width: 100%;\n    }\n}\n@media (min-width: 768px) and (max-device-width: 1024px) and (orientation: portrait) {\n    #register #form\n    {\n        width: 70%;\n    }\n    #register {\n    background-size: cover;\n    background-position: left 45% bottom;\n    }\n}\n@media (width: 1024px) and (orientation: landscape) {\n    #register #form\n    {\n        width: 50%;\n    }\n    #register #form > form\n    {\n        margin-top: 1rem;\n    }\n    #register #form h1\n    {\n        margin-top: 4rem;\n    }\n}\n</style>"]}]}