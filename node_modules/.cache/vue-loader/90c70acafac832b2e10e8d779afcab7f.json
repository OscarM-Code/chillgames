{"remainingRequest":"/home/oscar/projets-CDA/chillgames-vue/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/oscar/projets-CDA/chillgames-vue/src/views/Login.vue?vue&type=template&id=26084dc2&scoped=true","dependencies":[{"path":"/home/oscar/projets-CDA/chillgames-vue/src/views/Login.vue","mtime":1652274892820},{"path":"/home/oscar/projets-CDA/chillgames-vue/node_modules/cache-loader/dist/cjs.js","mtime":1650030295349},{"path":"/home/oscar/projets-CDA/chillgames-vue/node_modules/babel-loader/lib/index.js","mtime":1650030295749},{"path":"/home/oscar/projets-CDA/chillgames-vue/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1650030296081},{"path":"/home/oscar/projets-CDA/chillgames-vue/node_modules/cache-loader/dist/cjs.js","mtime":1650030295349},{"path":"/home/oscar/projets-CDA/chillgames-vue/node_modules/vue-loader-v16/dist/index.js","mtime":1650030295741}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICA8ZGl2IGlkPSJsb2dpbiI+CiAgICAgICAgPGRpdiBpZD0iZm9ybSI+CiAgICAgICAgICAgIDxwIGNsYXNzPSJnb0hvbWUiIEBjbGljaz0idGhpcy4kcm91dGVyLnB1c2goJy8nKSI+R28gYmFjayBIb21lPC9wPgogICAgICAgICAgICA8aDE+SW5mb3JtYXRpb24gZGUgY29ubmVjdGlvbjwvaDE+CiAgICAgICAgICAgIDxmb3JtIEBzdWJtaXQucHJldmVudD0ibG9naW4iPgogICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iZW1haWwiPkVtYWlsPC9sYWJlbD4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJlbWFpbCIgaWQ9ImVtYWlsIiBwbGFjZWhvbGRlcj0iRW50cmVyIHZvdHJlIEVtYWlsIGljaS4iIHYtbW9kZWw9Im1haWwiPgogICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0icGFzc3dvcmQiPk1vdCBkZSBwYXNzZTwvbGFiZWw+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGlkPSJwYXNzd29yZCIgcGxhY2Vob2xkZXI9Ik1vdCBkZSBwYXNzZSIgdi1tb2RlbD0icGFzc3dvcmQiPgogICAgICAgICAgICAgICAgPGJ1dHRvbj5Mb2dpbjwvYnV0dG9uPgogICAgICAgICAgICA8L2Zvcm0+CiAgICAgICAgICAgIDxwPk91IGNyw6llciB1biBjb21wdGU6IDxhIEBjbGljaz0idGhpcy4kcm91dGVyLnB1c2goJy9yZWdpc3RlcicpIj5TJ2VucmVnaXN0cmVyPC9hPjwvcD4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgPEZvb3Rlcj48L0Zvb3Rlcj4K"},{"version":3,"sources":["/home/oscar/projets-CDA/chillgames-vue/src/views/Login.vue"],"names":[],"mappings":";IACI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACX,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACV,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACzB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC/B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACnF,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACzC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAClF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACN,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1F,CAAC,CAAC,CAAC,CAAC,CAAC;IACT,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/home/oscar/projets-CDA/chillgames-vue/src/views/Login.vue","sourceRoot":"","sourcesContent":["<template>\n    <div id=\"login\">\n        <div id=\"form\">\n            <p class=\"goHome\" @click=\"this.$router.push('/')\">Go back Home</p>\n            <h1>Information de connection</h1>\n            <form @submit.prevent=\"login\">\n                <label for=\"email\">Email</label>\n                <input type=\"email\" id=\"email\" placeholder=\"Entrer votre Email ici.\" v-model=\"mail\">\n                <label for=\"password\">Mot de passe</label>\n                <input type=\"password\" id=\"password\" placeholder=\"Mot de passe\" v-model=\"password\">\n                <button>Login</button>\n            </form>\n            <p>Ou cr√©er un compte: <a @click=\"this.$router.push('/register')\">S'enregistrer</a></p>\n        </div>\n    </div>\n    <Footer></Footer>\n</template>\n<script>\nimport Footer from \"../components/Footer.vue\"\nimport { createToast } from \"mosha-vue-toastify\";\nimport VueJwtDecode from 'vue-jwt-decode'\n\nexport default {\n    name: 'login',\n    data() {\n        return {\n            mail: new URLSearchParams(window.location.search).get(\"email\") || null,\n            password: null,\n        }\n    },\n    components: {\n        Footer\n    },\n    methods: {\n        login() {\n            if (this.mail && this.password) {\n                fetch('http://localhost:3000/api/users', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Access-Control-Allow-Origin': '*'\n                    },\n                    body: JSON.stringify({\n                        mail: this.mail,\n                        password: this.password\n                    })\n                })\n                .then(response => response.json())\n                .then(r => {\n                    console.log(r);\n                    if (r.status === 200) {\n                        let username = VueJwtDecode.decode(r.token).user;\n                        this.toast(`Welcome ${username}`, 'success');\n                        localStorage.setItem(\"token\", r.token);\n                        this.$router.push(`/`);\n                    } else {\n                        this.toast(r.message, 'danger');\n                    }\n                })\n                .catch(err => {\n                    console.log(err);\n                    this.toast(\"Something went wrong\", 'danger');\n                });\n            }else {\n                this.toast(\"Please fill all the fields.\", \"danger\");\n            }\n        }\n    },\n    setup() {\n    const toast = (message, type) => {\n      createToast(message, {\n        position: \"top-right\",\n        timeout: 5000,\n        type: type,\n        showIcon: true,\n      });\n    };\n    return { toast };\n  },\n}\n</script>\n<style scoped>\n#login {\n    height: 100vh;\n    background-image: url(\"../assets/img/bg-login.jpg\");\n    background-size: cover;\n    background-position: right;\n    display: flex;\n    justify-content: flex-end;\n}\n#login #form\n{\n    height: 100%;\n    width: 30%;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    background: #ffffff;\n}\n#login #form > form\n{\n    margin-top: 5rem;\n    width: 70%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n}\n#login #form h1\n{\n    margin-top: 5rem;\n    font-size: 2.5rem;\n    color: #000000;\n    text-shadow: none;\n    text-align: center;\n}\n#login #form > form > label\n{\n    font-size: 1.5em;\n    font-weight: bold;\n    color: #000000;\n    text-shadow: none;\n    margin-top: 1rem;\n}\n#login #form > form > input\n{\n    width: 100%;\n    height: 3rem;\n    border: none;\n    border-bottom: 2px solid #000000;\n    margin-bottom: 2rem;\n    font-size: 1.5rem;\n}\n#login #form > form > input:focus\n{\n    outline: none;\n}\n#login #form > form > button\n{\n    width: 100%;\n    height: 4rem;\n    border: none;\n    border-radius: 5px;\n    background: #000000;\n    color: #ffffff;\n    font-size: 1.5rem;\n    font-weight: bold;\n    cursor: pointer;\n    transition: 0.3s;\n}\n#login #form > form > button:hover\n{\n    transform: scale(1.1);\n}\n#form > p\n{\n    font-size: 1.2rem;\n    color: #000000;\n    text-shadow: none;\n    margin-top: 1rem;\n}\n#form > p > a\n{\n    color: #461e61;\n    text-decoration: underline;\n    cursor: pointer;\n}\n\n.goHome\n{\n    cursor: pointer;\n    color: #758edf !important;\n    align-self: flex-end;\n    margin-top: 1rem;\n    margin-right: 1rem;\n    font-weight: bold;\n}\n\n@media only screen and (max-width : 420px) and (orientation: portrait) {\n    #login #form\n    {\n        width: 100%;\n    }\n    #login #form > form\n    {\n        margin-top: 1rem;\n    }\n    #login #form h1\n    {\n        margin-top: 4rem;\n    }\n}\n@media only screen and (max-width : 900px) and (orientation: landscape) {\n    #login #form\n    {\n        width: 70%;\n    }\n    #login #form > form\n    {\n        margin-top: 1rem;\n    }\n    #login #form h1\n    {\n        margin-top: 4rem;\n    }\n    #login {\n    background-size: 100% auto;\n    height: auto;\n    width: 100%;\n    }\n}\n@media (min-width: 768px) and (max-device-width: 1024px) and (orientation: portrait) {\n    #login #form\n    {\n        width: 70%;\n    }\n    #login {\n    background-size: cover;\n    background-position: left 45% bottom;\n    }\n}\n@media (width: 1024px) and (orientation: landscape) {\n    #login #form\n    {\n        width: 50%;\n    }\n    #login #form > form\n    {\n        margin-top: 1rem;\n    }\n    #login #form h1\n    {\n        margin-top: 4rem;\n    }\n}\n</style>"]}]}